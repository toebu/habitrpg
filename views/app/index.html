<import: src="modals">
<import: src="tasks" ns="">
<import: src="header">
<import: src="alerts">
<import: src="avatar">
<import: src="rewards" ns="">
<import: src="footer">
<import: src="settings">
<import: src="party">
<import: src="filters">

<Title:>
  HabitRPG | Gamify Your Life

<Head:>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="apple-mobile-web-app-capable" content="yes">

<Header:>
  <app:modals:modals />
  <ui:connectionAlert>
  <div id="head" class="container-fluid">
    <app:settings:menu />
    <app:header:header />
  </div>

<Body:>
  <br/>
  <div id="notification-area"></div>
  <div id=wrap class="container-fluid">
    <app:alerts:alerts />
    <app:filters:filters />
    <div id=main class="row-fluid">
      <app:taskLists />
    </div>
  </div>
  
  <app:footer:footer />

<Scripts:>
    <!-- scripts go in /src/app/browser.coffee, that way we can get min/concat -->
    <!-- only the ones that are remote and can't be done async are here -->
    <script src="https://checkout.stripe.com/v2/checkout.js"></script>
    {#if equal(_view.nodeEnv,"production")}
        <!-- Google Analytics -->
        <script type="text/javascript">
            var _gaq = _gaq || [];
            _gaq.push(['_setAccount', 'UA-33510635-1']);
            _gaq.push(['_trackPageview']);

            (function() {
                var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
                ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
                var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
            })();
        </script>
    {/}